AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR} LIB_SRC)

ADD_LIBRARY(${PROJECT_NAME} SHARED ${LIB_SRC})
ADD_LIBRARY(${PROJECT_NAME}_static STATIC ${LIB_SRC})

SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib)

SET_TARGET_PROPERTIES (${PROJECT_NAME}_static PROPERTIES OUTPUT_NAME ${PROJECT_NAME})
SET_TARGET_PROPERTIES (${PROJECT_NAME} PROPERTIES CLEAN_DIRECT_OUTPUT 1)
SET_TARGET_PROPERTIES (${PROJECT_NAME} PROPERTIES CLEAN_DIRECT_OUTPUT 1)
SET_TARGET_PROPERTIES (${PROJECT_NAME} PROPERTIES VERSION 1.1 SOVERSION 1)

INSTALL (TARGETS ${PROJECT_NAME} ${PROJECT_NAME}_static 
    LIBRARY DESTINATION ${PROJECT_BINARY_DIR}/lib
    ARCHIVE DESTINATION ${PROJECT_BINARY_DIR}/lib)
INSTALL (FILES ${PROJECT_NAME}.h DESTINATION ${PROJECT_BINARY_DIR}/include/${PROJECT_NAME})
